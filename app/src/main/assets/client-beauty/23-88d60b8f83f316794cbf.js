webpackJsonp([23],{404:function(t,e,s){function i(t){s(764)}var n=s(31)(s(633),s(982),i,"data-v-5d005164",null);t.exports=n.exports},434:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(97),n=function(t){return t&&t.__esModule?t:{default:t}}(i),a=s(54),r={};r.isUndef=function(t){return void 0===t||null===t},r.isDef=function(t){return void 0!==t&&null!==t},r.nosUrl=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var i=s.force,n=s.noEnlarge,a=/beauty\.nosdn\.127\.net/.test(t)||/\.nos\.netease\.com/g.test(t),r=!!~t.indexOf(".gif");return!a||r&&!i||(t.indexOf("?imageView")<0?t+="?":t+="%7C",t+="imageView&quality=95&interlace=1",i&&r&&(t+="&type=png"),e&&(n||(t+="&enlarge=1"),t+="&thumbnail="+e)),t}},r.getFormattedImage=function(t,e){var s=n.default.cloneDeep(t);if(t.height&&t.width){var i=e/75,a=t.width/75;s.width=Math.min(i,a).toFixed(3),s.height=(t.height/t.width*s.width).toFixed(3)+"rem",s.width+="rem"}else s.width="auto",s.height="auto";return s.url=r.nosUrl(s.url,"750x0",{noEnlarge:!0}),s},r.length=function(t){try{var e=0;t||(t="");for(var s=0;s<t.length;s++){var i=t.charAt(s);escape(i).length>3?e+=2:e+=1}return e}catch(t){console.log(t)}},r.mergeSpace=function(t){return t=t||"",t=t.replace(/\s{2,}/g," "),t=t.replace(/\n/g," ")},r.substr=function(t,e){t=r.mergeSpace(t);var s=0;t||(t="");for(var i=0;i<t.length;i++){var n=t[i],a=r.length(n),l=s+a;if(l===e)return t.substring(0,i+1);if(l>e)return t.substring(0,i);s+=a}return t},r.substrReverse=function(t,e){t=r.mergeSpace(t);var s=0;t||(t="");for(var i=t.length-1;i>=0;i--){var n=t[i],a=r.length(n),l=s+a;if(l===e)return t.substring(i);if(l>e)return t.substring(i+1);s+=a}return t},r.isVipUser=function(){return~[1,2,4,5].indexOf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)},r.getDisplayUser=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.cloneDeep(t);return e.avatarUrl=r.nosUrl(e.avatarUrl||a.IMGS.AVATAR,"120y120"),e.vip=r.isVipUser(e.authType),e.vip&&e.authDescription?e.desc=e.authDescription:(e.desc=e.age||"",e.desc&&e.skinType&&(e.desc+=" | "),e.skinType&&(e.desc+=e.skinType)),e},r.getDisplayCount=function(t){return t=t||0,t<1e5?t:parseInt(t/1e4)+"万"},r.getShortDisplayCount=function(t){return t<1e3?t:"999+"},r.getVideoDuration=function(t){var e="",s=parseInt(t/60/60),i=parseInt(t/60-60*s),n=parseInt(t%60);return s&&(e+=s+":"),e+=i+":"+(n>9?n:"0"+n)},r.stringFormat=function(){if(0===arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace("{"+(e-1)+"}",arguments[e]);return t},r.getGrassTime=function(t){return(t/1e3).toFixed(3)+"s"},e.default=r},437:function(t,e,s){function i(t){s(440)}var n=s(31)(s(438),s(442),i,"data-v-759f3ade",null);t.exports=n.exports},438:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{txt:{default:"正在加载..."}}}},440:function(t,e){},442:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-loading"},[s("img",{attrs:{src:"/res/image/loading.png"}}),s("span",[t._v(t._s(t.txt))])])},staticRenderFns:[]}},632:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(98),a=i(n),r=s(54),l=s(97),o=i(l);e.default={props:["product","desc"],computed:{displayProduct:function(){var t=o.default.cloneDeep(this.product||{}),e=t.imageUrl||r.IMGS.DEFAULT_IMG;return e&&(t.imageUrl=a.default.convertToNosUrl(e,"380y380")),t}},methods:{toProduct:function(t){if(t){var e="/product/"+t;this.$router.push(e)}},grassCallApp:function(t){var e=encodeURIComponent("http://163.lu/65qDh4");window.location.href="https://mei.163.com/applink/product/"+t+"?wechatLink="+e}}}},633:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},a=s(32),r=s(49),l=i(r),o=s(434),c=i(o),u=s(98),d=i(u),f=s(437),p=i(f),v=s(876),h=i(v),_=s(69),g={LIST:"/api/collects/{0}/list"};e.default={data:function(){return{list:[],hasNext:!1,loading:!1,fetchFailed:!1}},computed:n({},(0,a.mapState)({collects:"resource"}),{author:function(){var t=this.collects||{};return c.default.getDisplayUser(t.author)},pageEndId:function(){var t=this.list;return t&&t.length?t[t.length-1].id:-1}}),created:function(){var t=this.collects.collectList||{};this.list=t.list||[],this.hasNext=t.hasNext||!1},mounted:function(){window.addEventListener("scroll",this.onScroll),_.refreshPage({pageTitle:"网易美学收藏夹"})},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},methods:{toUser:function(t){if(t){var e="/user/"+t;this.$router.push(e)}},getList:function(){var t=this,e=this.collects.id||"";if(e&&this.hasNext&&!this.loading){this.loading=!0;var s=d.default.strFormat(g.LIST,e);(0,l.default)(s,{body:{count:20,pageEndId:this.pageEndId}}).then(function(e){var s=e.result||{},i=s.list,n=void 0===i?[]:i,a=s.hasNext;t.list=t.list.concat(n),t.hasNext=a,t.loading=!1,t.fetchFailed=!1},function(e){t.loading=!1,t.fetchFailed=!0})}},onScroll:function(){if(!this.fetchFailed){var t=this.$refs.list;t&&_.isBottomVisible(t)&&this.getList()}},callApp:function(){_.callApp()}},components:{product:h.default,loading:p.default}}},737:function(t,e){},764:function(t,e){},876:function(t,e,s){function i(t){s(737)}var n=s(31)(s(632),s(955),i,"data-v-3fac297b",null);t.exports=n.exports},955:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collect"},[s("div",{staticClass:"item",on:{click:function(e){t.toProduct(t.displayProduct.id)}}},[s("img",{attrs:{src:t.displayProduct.imageUrl}}),s("div",{staticClass:"info"},[s("div",{staticClass:"info__zhName"},[t._v(t._s(t.displayProduct.name4wap1))]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"info__desc"},[s("div",{staticClass:"info__enName"},[t._v(t._s(t.displayProduct.name4wap2))]),s("div",{staticClass:"info__enName info__enName--xd"},[t.displayProduct.noteCnt>0?s("div",[t._v("\n              "+t._s(t.displayProduct.noteCnt)+"篇心得\n              "),s("span",{staticClass:"icon-gt"})]):t._e()])]),s("div",{staticClass:"info__grass",on:{click:function(e){e.stopPropagation(),t.grassCallApp(t.displayProduct.id)}}},[s("span",{staticClass:"icon-grass"}),s("div",[t._v("长草")])])])])]),t.desc&&t.desc.length>0?s("div",{staticClass:"note"},[s("span",{staticClass:"note__label"},[t._v("备注：")]),t._v("\n    "+t._s(t.desc)+"\n  ")]):t._e()])},staticRenderFns:[]}},982:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"collects"},[s("p",{staticClass:"sub-title"},[t._v("点击产品卡片，即可产看产品详情、浏览用户使用心得")]),s("div",{staticClass:"content"},[s("div",{staticClass:"collects-user"},[s("div",{staticClass:"collects-user__avator",on:{click:function(e){t.toUser(t.author.id)}}},[s("img",{attrs:{src:t.author.avatarUrl}}),t.author.vip?s("span",{staticClass:"collects-user__avator__vip"}):t._e()]),s("div",{staticClass:"detail"},[s("div",{staticClass:"collects-user__name"},[t._v(t._s(t.author.name))]),s("span",{staticClass:"collects-user__desc"},[t._v(t._s(t.author.desc))]),s("br")])]),s("div",{staticClass:"collects__title"},[t._v(t._s(t.collects.name))]),s("div",{staticClass:"collects__desc"},[t._v(t._s(t.collects.desc))]),t.list&&t.list.length>0?s("div",{staticClass:"list-wrapper"},[s("ul",{ref:"list",staticClass:"collects__list"},t._l(t.list,function(t){return s("li",[s("product",{attrs:{product:t.feed,desc:t.desc}})],1)})),t.loading&&t.hasNext&&!t.fetchFailed?s("div",{staticClass:"loading"},[s("loading")],1):t._e(),t.fetchFailed?s("div",{staticClass:"failed",on:{click:t.getList}},[t._m(0,!1,!1)]):t._e()]):s("div",{staticClass:"collects__list--empty"},[s("img",{attrs:{src:"/res/image/notrial.png"}}),s("div",[t._v("还没有收藏内容哦")])])])]),s("div",{staticClass:"u-download",on:{click:t.callApp}},[t._v("下载网易美学，创建你自己的收藏夹")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"txt"},[t._v("加载失败，"),s("span",[t._v("点击重新加载")])])}]}}});