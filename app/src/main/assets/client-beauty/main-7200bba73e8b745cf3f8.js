webpackJsonp([35],{137:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(161);var a=n(148),r=n(44),i=o(r),c=n(149),s=o(c);i.default.use(s.default,{refresh:function(e,t){a.store.commit("setHasRefresh",!0),a.store.dispatch("getResource",{callback:t})}},function(){});var u=window.__INITIAL_STATE__;a.router.onReady(function(){if(u)a.store.commit("setGlobalInfo",u.globalInfo),a.store.commit("setRouteOptions",u.options),a.store.commit("setResource",u);else{var e=navigator.userAgent,t=!!e.match(/android/i),n=!!e.match(/MicroMessenger/i),o=t;a.store.commit("setGlobalInfo",{ua:e,inApp:t,inWechat:n,hideBanner:o}),a.store.commit("setRouteOptions",{}),a.store.commit("setResource",{})}a.store.commit("setMiniProgram","miniprogram"===window.__wxjs_environment),a.app.$mount("#body")}),t.default=a.app},138:function(e,t,n){function o(e){n(367)}var a=n(31)(n(155),n(385),o,"data-v-3f8f65d8",null);e.exports=a.exports},140:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(44),r=o(a);n(141);var i=n(374),c=o(i),s=n(138),u=o(s);n(151);var d=n(54),l=n(69),f=n(370);r.default.component("appMore",u.default);var h=d.IMGS.BLANK+"?imageView&thumbnail=15y10";r.default.use(c.default,{error:h,loading:h,preLoad:2}),document.addEventListener("click",function(){setTimeout(function(){l.dispatchEvent("scroll")})}),new f(document.body)},141:function(e,t){},147:function(e,t,n){"use strict";function o(e){var t={},n={};for(var o in e)o.indexOf(":")>-1||o.indexOf("(")>-1?n[o]=e[o]:t[o]=e[o];return{stringRules:t,regexRules:n}}function a(e){var t=o(c),n=t.stringRules[e];if(n)return{match:!0,options:n};for(var a in t.regexRules)if(i(a).exec(e))return{match:!0,options:t.regexRules[a]};return{match:!1}}function r(e){var t=s[e];return t?{match:!0,options:t}:{match:!1}}var i=n(153),c={"GET /":{canonical:!0},"GET /product/:productId([a-zA-Z0-9]+)":{canonical:!0},"GET /brand/:brandId([a-zA-Z0-9]+)":{canonical:!0},"GET /tag/:tagName([a-zA-Z0-9]+)":{},"GET /tag/:tagId/knowledge":{},"GET /event/:tagName([a-zA-Z0-9]+)":{},"GET /repo/:repoId([a-zA-Z0-9]+)":{canonical:!0},"GET /repo/:repoId([a-zA-Z0-9]+)/screencapture":{heads:"<meta name='robots' content='noindex nofollow' >",errRender:!1},"GET /repo/:repoId([a-zA-Z0-9]+)/sogou":{heads:"<meta name='robots' content='noindex nofollow' >"},"GET /note/:noteId([a-zA-Z0-9]+)":{canonical:!0},"GET /note/:noteId([a-zA-Z0-9]+)/screencapture":{heads:"<meta name='robots' content='noindex nofollow' >",errRender:!1},"GET /note/:noteId([a-zA-Z0-9]+)/sogou":{heads:"<meta name='robots' content='noindex nofollow' >"},"GET /video/:videoId([a-zA-Z0-9]+)":{},"GET /question/:id([a-zA-Z0-9]+)":{},"GET /answer/:id([a-zA-Z0-9]+)":{},"GET /collects/:id([a-zA-Z0-9]+)":{pageTitle:"网易美学收藏夹"},"GET /activity/20170309":{},"GET /activity/campus":{},"GET /activity/pechoin":{},"GET /activity/qixi":{pageTitle:"附近",noTitleSuffix:!0},"GET /activity/qixi/:id([a-zA-Z0-9]+)":{pageTitle:"好友战绩",noTitleSuffix:!0},"GET /trial":{},"GET /trial/:id([a-zA-Z0-9]+)":{},"GET /trial/list/myTrial":{webviewOnly:!0},"GET /user/:id([a-zA-Z0-9]+)":{canonical:!0},"GET /search":{},"GET /activity/anniversary":{pageTitle:"一周年拔草挑战赛"},"GET /activity2/anniversary":{pageTitle:"一周年拔草挑战赛"},"GET /activity/anniversary/invite/:id([a-zA-Z0-9]+)":{pageTitle:"手速快就能拿SK-II、CPB、YSL！玩到废寝忘食了！"},"GET /activity/anniversary/game":{pageTitle:"一周年拔草挑战赛",webviewOnly:!0},"GET /activity/anniversary/invite/:id([a-zA-Z0-9]+)/wechatgive":{},"GET /activity/anniversary/boardList":{pageTitle:"网易美学一周年榜单盘点"}},s={"GET /login":{webviewOnly:!0},"GET /webview/test":{webviewOnly:!0,heads:"<meta name='robots' content='noindex nofollow' >"},"GET /webview/videotest":{webviewOnly:!0,heads:"<meta name='robots' content='noindex nofollow' >"},"GET /webview/skintest":{webviewOnly:!0},"GET /test/animation":{pageTitle:"动效",webviewOnly:!0,heads:"<meta name='robots' content='noindex nofollow' >"},"GET /trialrule":{},"GET /miniProgram/download":{pageTitle:"美学福利社",noTitleSuffix:!0}};e.exports={normalRules:c,pureRules:s,matchRule:a,matchPureRule:r}},148:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.app=t.store=t.router=void 0;var a=n(44),r=o(a),i=n(389),c=n(99),s=o(c),u=n(150),d=o(u),l=n(375),f=o(l),h=n(152),p=o(h);s.default.registerModule("tag",p.default),(0,i.sync)(s.default,d.default);var m=new r.default({router:d.default,store:s.default,render:function(e){return e(f.default)}});t.router=d.default,t.store=s.default,t.app=m},149:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(139),r=o(a),i=n(101),c=o(i);t.default={install:function(e,t,n){r.default.config(t||{}).then(function(){r.default.isUrlShared=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,n){!r.default.isAOS||r.default.compareVersion("1.5.3")<0?t(!1):r.default.MZBridge.callHandler("isUrlShared",e,function(e){t(e)})})},n()},function(e){});var o=function(e){var t=e.urls,n=e.current,o=n||0;r.default.inApp?r.default.previewImage({urls:t,current:o}):c.default&&c.default.previewImage&&c.default.previewImage({current:t[o],urls:t})};r.default.isomorphicPreviewImage=o,e.prototype.$beauty=r.default}}},150:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),r=o(a),i=n(388),c=o(i);n(140);var s=function(){return n.e(25).then(n.bind(null,392))},u=function(){return n.e(27).then(n.bind(null,403))},d=function(){return n.e(13).then(n.bind(null,412))},l=function(){return n.e(0).then(n.bind(null,418))},f=function(){return n.e(15).then(n.bind(null,419))},h=function(){return n.e(16).then(n.bind(null,405))},p=function(){return n.e(1).then(n.bind(null,414))},m=function(){return n.e(20).then(n.bind(null,415))},g=function(){return n.e(22).then(n.bind(null,416))},v=function(){return n.e(2).then(n.bind(null,409))},b=function(){return n.e(24).then(n.bind(null,410))},y=function(){return n.e(26).then(n.bind(null,411))},w=function(){return n.e(6).then(n.bind(null,425))},T=function(){return n.e(2).then(n.bind(null,413))},_=function(){return n.e(1).then(n.bind(null,402))},S=function(){return n.e(18).then(n.bind(null,393))},E=function(){return n.e(17).then(n.bind(null,398))},A=function(){return n.e(10).then(n.bind(null,399))},O=function(){return n.e(5).then(n.bind(null,395))},I=function(){return n.e(9).then(n.bind(null,397))},P=function(){return n.e(3).then(n.bind(null,394))},M=function(){return n.e(19).then(n.bind(null,396))},x=function(){return n.e(33).then(n.bind(null,407))},L=function(){return n.e(11).then(n.bind(null,423))},R=function(){return n.e(14).then(n.bind(null,422))},C=function(){return n.e(31).then(n.bind(null,421))},k=function(){return n.e(30).then(n.bind(null,426))},G=function(){return n.e(29).then(n.bind(null,427))},j=function(){return n.e(28).then(n.bind(null,428))},N=function(){return n.e(4).then(n.bind(null,401))},K=function(){return n.e(12).then(n.bind(null,400))},$=function(){return n.e(21).then(n.bind(null,420))},U=function(){return n.e(8).then(n.bind(null,424))},D=function(){return n.e(0).then(n.bind(null,406))},W=function(){return n.e(7).then(n.bind(null,417))},V=function(){return n.e(23).then(n.bind(null,404))},B=function(){return n.e(32).then(n.bind(null,408))};r.default.use(c.default);var z=[{path:"",component:s,children:[{path:"/brand/:id",name:"brand",component:u},{path:"/product/:id",name:"product",component:d},{path:"/tag/:id",name:"tag",component:l},{path:"/tag/:id/knowledge",name:"tagKnowledge",component:f},{path:"/event/:id",name:"event",component:h},{path:"/repo/:id",name:"repo",component:p},{path:"/note/:id",name:"note",component:v},{path:"/video/:id",name:"video",component:w},{path:"/question/:id",name:"question",component:T},{path:"/answer/:id",name:"answer",component:_},{path:"/trial/:id",name:"trial",component:R},{path:"/trialrule",name:"trialRule",component:C},{path:"/user/:id",name:"userHomepage",component:U},{path:"/",name:"Index",component:D},{path:"/search",name:"search",component:W},{path:"/collects/:id",name:"collects",component:V}]},{path:"/activity/20170309",name:"YanxuanActivity",component:S},{path:"/activity/campus",name:"campusActivity",component:E},{path:"/activity/pechoin",name:"pechoinActivity",component:A},{path:"/activity/qixi",name:"qixi",component:N},{path:"/activity/qixi/:id",name:"qixiShare",component:K},{path:"/login",name:"login",component:x},{path:"/webview/test",name:"webviewtest",component:k},{path:"/webview/videotest",name:"videotest",component:G},{path:"/webview/skinTest",name:"skintest",component:j},{path:"/test/animation",name:"animation",component:$},{path:"/trial",name:"trialList",component:L},{path:"/trial/list/myTrial",name:"myTrial",component:L},{path:"/repo/:id/screencapture",name:"repoScreenCapture",component:m},{path:"/note/:id/screencapture",name:"noteScreenCapture",component:b},{path:"/repo/:id/sogou",name:"repoSogou",component:g},{path:"/note/:id/sogou",name:"noteSogou",component:y},{path:"/activity/anniversary/game",name:"anniversaryActivityGame",component:P},{path:"/activity/anniversary",alias:"/activity2/anniversary",name:"anniversaryActivityDetail",component:O},{path:"/activity/anniversary/invite/:id",name:"anniversaryActivityInvite",component:I},{path:"/activity/anniversary/boardList",name:"anniversaryActivityBoard",component:M},{path:"/miniProgram/download",name:"miniProgramDownload",component:B}],H=new c.default({mode:"history",routes:z,scrollBehavior:function(e,t,n){return e.hash?{}:n||{x:0,y:0}}});t.default=H},151:function(e,t,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r={namespaced:!0,state:{resource:"test tag data",path:null},mutations:{setTagData:function(e,t){if(t.code)if(t.code>=200&&t.code<400){var n=t.result;e.resource=n;var o=n.user,a=n.pageTitle,r=n.shareInfo;e.purePageTitle=a||"",e.currentUser=o,e.isLogin=!(!o||!o.id),e.shareInfo=r,e.error=null}else{var i=t.code,c=t.msg;e.error={code:i,msg:c},e.resource=null}},setPath:function(e,t){e.path=t}},actions:{getTagData:function(e){var t=e.state,n=e.commit,o=e.rootState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.callback,c=r.loadingStatus,s=o.route,u=s.path,d=s.fullPath;if(console.log("get tag data for "+u),t.path&&t.path===u)return void console.log("path not change : "+u);console.log("old path: "+t.path+" new path:"+u),n("setPath",u),c&&(o.loading=!0),(0,a.default)("/api"+d).then(function(e){n("setTagData",e),n("setLoading",!1,{root:!0}),i&&i(),console.log("\n tag: state.resource: "+JSON.stringify(t.resource))},function(e){n("setTagData",e),n("setLoading",!1,{root:!0}),i&&i()})}}};t.default=r},154:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(32),i=n(49),c=o(i),s=n(379),u=o(s),d=n(380),l=n(69);t.default={computed:a({},(0,r.mapState)(["inApp","loading","error","resource","shareInfo"]),{hasSearchBar:function(){var e=this.$route.matched;return console.log("matched:"+e),!(!e||!e[0])&&""===e[0].path}}),watch:{$route:"fetchData",resource:function(){this.refresh()}},mounted:function(){console.log("current path:"+this.$route.path);var e=this.$router.getMatchedComponents(this.$route.path);e.length<=0?(console.log("redirect from "+this.$route.path+" to /"),this.$router.replace({path:"/"})):(console.log("matched component :"+e[0].name),this.refresh())},methods:{afterEnter:function(){setTimeout(function(){l.dispatchEvent("scroll")},200)},fetchData:function(){var e=this.$route.fullPath;if(console.log("fetchData, "+e),/tag/.test(e))return void console.log("fetchData, path contains tag, ignore");this.$store.dispatch("getResource",{loadingStatus:!0,callback:function(){console.log("\ngetResource for "+e+" is done\n")}})},refresh:function(){function e(e,t,n){e&&t&&n&&(0,c.default)("/secondShare",{method:"POST",body:{resId:e,resType:t,shareDestType:n}}).then(function(e){})}l.refreshPage();var t=this.shareInfo||{},n=t.resId,o=t.resType;l.configWxShare({onSharepAppMessageSuccess:e.bind(null,n,o,1),onshareTimelineSuccess:e.bind(null,n,o,2)}),this.$nextTick(function(){l.dispatchEvent("scroll")})}},components:{error:d,search:u.default}}},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(32),r=n(69);t.default={computed:o({},(0,a.mapState)(["inApp","hideBanner"])),props:["text"],methods:{callApp:function(){r.callApp()}}}},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(32);t.default={props:{isResultPage:{type:Boolean,defaultValue:!1},search:Function},data:function(){return{keyword:""}},computed:o({},(0,a.mapState)(["searchKeyword","searchLayerVisible","inMiniProgram"]),{searching:function(){return this.isResultPage||this.searchLayerVisible}}),watch:{keyword:function(e){this.setSearchKeyword(e)},$route:function(){this.setKeyword()}},mounted:function(){this.setKeyword()},methods:o({},(0,a.mapMutations)(["setSearchKeyword","setSearchLayerVisible"]),{toHome:function(){this.inMiniProgram||this.$router.push("/")},setKeyword:function(){this.isResultPage?this.keyword=this.$route.query.keyword||"":this.keyword=""},toggleLayer:function(e){var t=this;this.setSearchLayerVisible(e),e&&this.$nextTick(function(){t.$refs.input.focus()})},onEnter:function(){this.$refs.input.blur(),this.search()},cancel:function(){this.setSearchKeyword(""),this.searchLayerVisible?this.toggleLayer(!1):history.back()}})}},157:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(32),i=n(49),c=o(i),s=n(97),u=o(s),d=n(98),l=o(d);t.default={props:{onSearch:Function},data:function(){return{suggestions:[]}},computed:a({displaySearchKeyword:function(){return l.default.getStrLength(this.searchKeyword)>34?l.default.substr(this.searchKeyword,14)+"..."+l.default.substrReverse(this.searchKeyword,20):this.searchKeyword}},(0,r.mapState)(["searchKeyword","searchLayerVisible"])),watch:{searchKeyword:u.default.throttle(function(){this.getSuggestion()},200)},mounted:function(){this.getSuggestion()},methods:{getSuggestion:function(){var e=this;(0,c.default)("/api/search/suggestion",{body:{keyword:this.searchKeyword}}).then(function(t){e.suggestions=t.result||[]},function(t){e.suggestions=[]})}}}},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={props:{onSelect:Function},data:function(){return{hotWords:[]}},mounted:function(){this.getHotWords()},methods:{getHotWords:function(){var e=this;(0,a.default)("/api/search/hotWords").then(function(t){e.hotWords=t.result||[]},function(t){e.hotWords=[]})}}}},159:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(97),i=o(r),c=n(32),s=n(376),u=o(s),d=n(378),l=o(d),f=n(377),h=o(f);t.default={data:function(){return{isResultPage:"/search"===this.$route.path,visible:!0}},computed:a({},(0,c.mapState)(["searchKeyword","searchLayerVisible"]),{searching:function(){return this.isResultPage||this.searchLayerVisible}}),watch:{searchLayerVisible:function(e){this.toggleBodyScroll(!e)},$route:function(){this.isResultPage="/search"===this.$route.path,this.show()}},mounted:function(){window.addEventListener("scroll",i.default.throttle(this.toggleVisibility(),200).bind(this)),this.toggleBodyScroll(!0)},beforeDestroy:function(){window.removeEventListener("scroll",i.default.throttle(this.toggleVisibility(),200).bind(this))},methods:a({},(0,c.mapMutations)(["setSearchKeyword","setSearchLayerVisible"]),{toggleBodyScroll:function(e){e?(document.body.style.height="auto",document.body.style.overflow="auto"):(document.body.style.height="100vh",document.body.style.overflow="hidden")},toggleVisibility:function(){var e=this,t=document.documentElement.scrollTop||document.body.scrollTop;return function(){if(e.$refs.search&&!e.isResultPage){if(e.searching)return void e.show();var n=document.documentElement.scrollTop||document.body.scrollTop;n<e.$refs.search.offsetHeight||n<t?e.show():e.hide(),t=n}}},hide:function(){this.visible&&(this.visible=!1,this.$refs.search.style.top="-2rem")},show:function(){this.visible||(this.visible=!0,this.$refs.search.style.top=0)},search:function(e){if(e&&"string"==typeof e&&this.setSearchKeyword(e),this.searchKeyword){var t="/search?keyword="+this.searchKeyword;this.isResultPage?this.$router.replace(t):this.$router.push(t),this.setSearchLayerVisible(!1)}}}),components:{searchBar:u.default,topSearch:l.default,suggestion:h.default}}},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(32);t.default={computed:o({},(0,a.mapState)({error:"error"})),methods:{reload:function(){window.location.reload()}}}},363:function(e,t){},364:function(e,t){},365:function(e,t){},366:function(e,t){},367:function(e,t){},368:function(e,t){},369:function(e,t){},375:function(e,t,n){function o(e){n(369)}var a=n(31)(n(154),n(387),o,"data-v-b2caa854",null);e.exports=a.exports},376:function(e,t,n){function o(e){n(368)}var a=n(31)(n(156),n(386),o,"data-v-5af8b832",null);e.exports=a.exports},377:function(e,t,n){function o(e){n(365)}var a=n(31)(n(157),n(383),o,"data-v-28c862a6",null);e.exports=a.exports},378:function(e,t,n){function o(e){n(363)}var a=n(31)(n(158),n(381),o,"data-v-0b52fd78",null);e.exports=a.exports},379:function(e,t,n){function o(e){n(366)}var a=n(31)(n(159),n(384),o,"data-v-37f1f04e",null);e.exports=a.exports},380:function(e,t,n){function o(e){n(364)}var a=n(31)(n(160),n(382),o,"data-v-16cb3e48",null);e.exports=a.exports},381:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hotWords.length,expression:"hotWords.length"}],staticClass:"top-search"},[n("div",{staticClass:"top-search__title"},[e._v("热门搜索")]),n("ul",e._l(e.hotWords,function(t,o){return n("li",{key:o,staticClass:"top-search__item",on:{click:function(n){e.onSelect(t)}}},[e._v(e._s(t))])}))])])},staticRenderFns:[]}},382:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[n("div",{staticClass:"lipstick"}),n("div",{staticClass:"txt"},[n("div",{staticClass:"msg"},[e._v(e._s(e.error.msg||"网络好像不太给力哦~"))]),e.error.code?n("div",{staticClass:"code"},[e._v("错误码："+e._s(e.error.code))]):e._e()]),n("div",{staticClass:"btn",on:{click:e.reload}},[e._v("重新加载")])])},staticRenderFns:[]}},383:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"suggestion"},[n("ul",[n("li",{staticClass:"suggestion__item suggestion__item--keyword",on:{click:e.onSearch}},[e._v("搜索“"+e._s(e.displaySearchKeyword)+"”")]),e._l(e.suggestions,function(t,o){return n("li",{key:o,staticClass:"suggestion__item",on:{click:function(n){e.onSearch(t)}}},[e._v(e._s(t))])})],2)])},staticRenderFns:[]}},384:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topbar"},[n("div",{ref:"search",staticClass:"search",class:{"search--opers":e.searching,"search--layer":e.searchLayerVisible}},[n("search-bar",{attrs:{isResultPage:e.isResultPage,search:e.search}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.searchLayerVisible,expression:"searchLayerVisible"}]},[n("top-search",{directives:[{name:"show",rawName:"v-show",value:!e.searchKeyword,expression:"!searchKeyword"}],attrs:{onSelect:e.search}}),n("suggestion",{directives:[{name:"show",rawName:"v-show",value:e.searchKeyword,expression:"searchKeyword"}],attrs:{onSearch:e.search}})],1)],1)])},staticRenderFns:[]}},385:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.inApp||e.hideBanner?e._e():n("div",{staticClass:"u-download",on:{click:e.callApp}},[e._v("下载APP，"+e._s(e.text||"查看更多热门产品"))])},staticRenderFns:[]}},386:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"bar",staticClass:"search-bar",class:{"search-bar--opers":e.searching}},[n("div",{staticClass:"search-bar__logo",on:{click:e.toHome}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.searching&&!e.inMiniProgram,expression:"!searching && !inMiniProgram"}],staticClass:"search-bar__go",on:{click:function(t){e.toggleLayer(!0)}}},[n("button")]),n("form",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"search-bar__keyword",on:{submit:function(e){e.preventDefault()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],ref:"input",attrs:{type:"search",placeholder:"搜索合辑、心得、产品"},domProps:{value:e.keyword},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onEnter(t)},focus:function(t){e.toggleLayer(!0)},input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"search-bar__cancel",on:{click:e.cancel}},[e._v("取消")])])},staticRenderFns:[]}},387:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.inApp||!e.hasSearchBar||e.error?e._e():n("search"),n("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":e.afterEnter}},[e.loading?n("div",{staticClass:"app-loading"},[n("img",{attrs:{src:"/res/image/loading.gif"}})]):e.error?n("error",{attrs:{msg:e.error.msg,code:e.error.code}}):n("router-view")],1)],1)},staticRenderFns:[]}},391:function(e,t,n){e.exports=n(137)},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(390);var o=n(54),a=function(e){var t=e&&Object.keys(e),n=void 0;return t&&t.length>0&&(n=t.map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")),n},r=function(e,t){if(t=t||{},t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{},t.credentials="same-origin",!t.method||"GET"===t.method){var n=a(t.body);n&&(e+=~e.indexOf("?")?"&":"?",e+=n),delete t.body,t.headers.Accept="application/json",t.headers["Content-Type"]="application/json"}return t.method&&"GET"!==t.method.toUpperCase()&&(t.norest&&(t.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"),t.headers["Content-Type"]&&"application/x-www-form-urlencoded;charset=utf-8"===t.headers["Content-Type"]&&(t.body=a(t.body)),t.headers["Content-Type"]||(t.headers.Accept="application/json",t.headers["Content-Type"]="application/json"),"application/json"===t.headers["Content-Type"]&&t.body&&(t.body=JSON.stringify(t.body))),new Promise(function(n,a){fetch(o.DOMAINS.CLIENT+e,t).then(function(e){if(e.ok||200===e.status)return e.json();a(e.statusText)}).then(function(e){e&&(e.code>=200&&e.code<400?n(e):a(e))}).catch(function(e){throw e})})};t.default=r},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.IMGS={AVATAR:"//beauty.nosdn.127.net/beauty/img/afc1a238-ee44-45d9-b4b5-a9361f6ae99d.png",LOGO:"//beauty.nosdn.127.net/beauty/img/5937b030-cee3-44f6-b0d8-dd9f137b2a34.png",NO_PRODUCT:"//beauty.nosdn.127.net/beauty/img/bc22975f-be79-4826-be33-bca73ef79925.png",SPIRIT:"//beauty.nosdn.127.net/beauty/img/166a7880-7f0c-44b0-b027-4656c66814ee.png",DEFAULT_IMG:"//beauty.nosdn.127.net/beauty/img/c042ddec-d96f-47a5-a7bd-a7de28886746..png",DEFAULT_IMG_TRANSP:"//beauty.nosdn.127.net/beauty/img/4d6de58c-672d-40c9-9e92-b9a71e62026e.png",BLANK:"//beauty.nosdn.127.net/beauty/img/6ea29d15-b265-473c-bdaf-c4db5c9e8e1f.png",DEFAULT_USER_BACKGROUND:"//beauty.nosdn.127.net/beauty/img/507a0ecc-ae46-4e2e-929b-0be0750703a6.png",NO_REPO:"//beauty.nosdn.127.net/beauty/img/9a9fe2dc-69e4-43ff-9113-4d29916623f8.png",NO_NOTE:"//beauty.nosdn.127.net/beauty/img/a16d93bd-d5b1-4ef8-ae1e-22f3a0036b5e.png",VIDEO_DEFAULT_IMG:"//beauty.nosdn.127.net/beauty/img/e339e794-90e2-4afd-8d05-f2f12dfeb719.jpg",LOADING:"//beauty.nosdn.127.net/beauty/img/42bb21f1-8ae5-4d32-b5fc-c8a33c6d3ec8.gif",ARROW:"https://beauty.nosdn.127.net/beauty/img/23ed16d8-1393-48f9-9134-fcb794775f6a..png"},a=t.RES_TYPES={USER:1,NOTE:2,REPO:3,PRODUCT:4,BRAND:5,TAG:6,DYNAMIC:7,RANK:8,ACTIVITY:9,TEXT:10,URL_SCHEME:11,COMMENT:12,SKU:13,QIYU:14,IMAGE:15,NOTIFY:16,VIDEO:20,QUESTION:30,ANSWER:35,TRIAL:40,APP:99},r=t.STATISTICS_ACTIONS={SHARE_TO_WECAHT_APP_MESSAGE:"shareToWechatAppMessage",SHARE_TO_WECAHT_TIMELINE:"shareToWechatTimeline"},i=t.DOMAINS={WEB:"https://mei.163.com",H5:"https://m.mei.163.com",CLIENT:""};t.default={IMGS:o,RES_TYPES:a,STATISTICS_ACTIONS:r,DOMAINS:i}},69:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(101),s=o(c),u=n(44),d=o(u),l=n(99),f=o(l),h=n(54),p=n(54),m=n(98),g=o(m),v={},b=h.IMGS.BLANK+"?imageView&thumbnail=15y10",y=navigator.userAgent,w=!!y.match(/(iPhone|iPod|iPad)/i),T=!!y.match(/(OS 9|OS \d{2,})/),_=!!y.match(/Android/i),S=y.match(/MicroMessenger/i),E=y.match(/weibo/i);v.wx=s.default,v.platform={isIOS:w,isGteiOS9:T,isAOS:_,isWechat:S,isWeibo:E},v.formatUrl=function(e,t){var n=t&&Object.keys(t),o="";return n&&(o=n.map(function(e){return g.default.isUndef(t[e])?"":e+"="+encodeURIComponent(t[e])}).filter(function(e){return e}).join("&")),o?(~e.indexOf("?")?e+="&":e+="?",e+o):e},v.isInApp=function(){return!!(navigator&&navigator.userAgent.toUpperCase()).match(/NEMEIXUE/)},v.callApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.degradedLink,n=e.wechatLink;n=n||"https://hubble.netease.com/sl/aaaabS",window.location.href=v.getOpenLink({degradedLink:t,wechatLink:n})},v.throttle=function(e,t,n){n=n||16,clearTimeout(e.tId),e.tId=setTimeout(function(){e.call(t)},n)},v.configWxShare=function(e){var t=e.shareInfo,n=e.onSharepAppMessageSuccess,o=e.onshareTimelineSuccess;if(t&&f.default.commit("setShareInfo",t),t=f.default.state.shareInfo||{},t.appId){var a=t,r=a.shareTitle,i=a.subTitle,c=a.imageUrl,u=a.shareUrl,d=a.appId,l=a.timestamp,h=a.nonceStr,p=a.signature,m=g.default.mergeSpace(r),v=g.default.mergeSpace(i),b=u,y=g.default.convertToNosUrl(c,"300y300");s.default.config({appId:d,timestamp:l,nonceStr:h,signature:p,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","getNetworkType"]}),s.default.ready(function(){s.default.onMenuShareTimeline({title:m,link:b,imgUrl:y,success:function(){o&&o()}}),s.default.onMenuShareAppMessage({title:m,desc:v,link:b,imgUrl:y,success:function(){n&&n()}})})}},v.getOpenLink=function(e){var t=window.location.pathname,n=t.substr(1).split("/"),o=i(n,2),a=o[0],r=o[1];~["activity","trial"].indexOf(a)?(a="3rd",r=null,e.redirect=""+p.DOMAINS.WEB+t):"event"===a?a="tag":"collects"===a&&(a="me");var c=p.DOMAINS.WEB+"/applink/"+a;return"me"!==a&&r&&(c+="/"+r),f.default.state.inMiniProgram&&(e={degradedLink:p.DOMAINS.H5+"/miniProgram/download"}),v.formatUrl(c,e)},v.getDownloadUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wechatLink,n={ios:"https://itunes.apple.com/us/app/wang-yi-mei-xue/id1147533466?l=zh&ls=1&mt=8",aos:"/android/download",weichat:t||"https://hubble.netease.com/sl/aaaabS"};return v.platform.isWechat?n.weichat:v.platform.isIOS?n.ios:v.platform.isAOS?n.aos:""},v.rem=window.rem,v.rem2px=function(e){return parseFloat(e)*this.rem},v.px2rem=function(e){return parseFloat(e)/this.rem},v.refreshPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageTitle;if(t&&f.default.commit("setPageTitle",t),document.title=f.default.getters.pageTitle,w){var n=document.createElement("iframe");n.src="/favicon.ico",n.style.display="none",n.onload=function(){setTimeout(function(){n.remove()},9)},document.body.appendChild(n)}v.configLazyLoad()},v.dispatchEvent=function(e){if(document.dispatchEvent){var t=document.createEvent("Event");t.initEvent(e,!0,!0),document.dispatchEvent(t)}},v.configLazyLoad=function(){f.default.getters.isWifi&&d.default.prototype.$Lazyload.config({error:b,loading:b,preLoad:6})},v.initAntiCheating=function(e,t){function n(n){var o=document.getElementsByTagName("head")[0]||document.body||document.documentElement;if(document.getElementById("anti-cheating-script"))n();else{var a=document.createElement("script");n&&a.addEventListener("load",n,!1),a.id="anti-cheating-script",a.type="text/javascript",a.src="//nos.netease.com/yidun/res-wm-1.0.js",a.setAttribute("pro-data",t),e.$nextTick(function(){o.appendChild(a)})}}return t=t||"9cc38396948a8f869494ac869ac3dbc3d8d683d7dadad787828582d5d5d5d686da83d3d8d8d983d5d7d485d8d7d483dac3cdc394b6938dc3dbc38995959194dbd0d08284cf85968fcfd2d7d49a968fcf84908ed097d2d085c3cdc385b6938dc3dbc38995959194dbd0d08284cf85968fcfd2d7d49a968fcf84908ed097d2d083c3cdc3848594c3db8f968d8dcdc3879590c3dbd2d6d1d1cdc385b09195c3db9cc38e8e8ec3dbd2d6d1cdc38e8e8ac3dbd4d1d1cdc38e8e85c3dbd4d1cdc38e858ac3dbd4d1d1cdc38e958ec3dbd2d6d1cdc3958e8ac3dbd4d1d1cdc38e8c85c3dbd7cdc38c858ac3dbd4d1d1cdc38e87c3dbd3d1cdc3878ac3dbd4d1d1cdc38e8790c3dbd3d1cdc387908ac3dbd4d1d1cdc38e8490c3dbd3d1cdc384908ac3dbd4d1d1cdc38e848d8cc3dbd3d1cdc3848d8c8ac3dbd4d1d1cdc38e9594c3dbd4d1cdc395948ac3dbd4d1d1cdc38394c3dbd6d1d19ecdc394b09195c3db9cc38a8b9487c3db87828d9486cdc38a8787c3db95939686cdc38a98888dc3db87828d9486cdc394848ac3dbc3c0988e94988784958f8693c08a85c3cdc39496c3dbc38995959194dbd0d08f9094cf8f869586829486cf84908ed09a8a85968fd0938694ce988eced2cfd1cf949887c3cdc3938695c3dbd29ecdc393b09195c3db9cc3848ac3dbd2d1d1cdc38e8495c3dbd39e9e",new Promise(function(e,t){n(function(){e(window.watchman)})})},v.eventTrace=function(e){var t=e.id,n=e.category,o=e.action,r=void 0===o?"click":o,i=a(e,["id","category","action"]),c={eventCategory:n,eventAction:r},s=i.eventLabel,u=i.eventValue;s&&"string"!=typeof s&&(i.eventLabel=s.toString()),u&&"number"!=typeof u&&(i.eventValue=parseInt(u)),window.ga&&window.ga("send",Object.assign({hitType:"event"},c,i));var d=t||n+(i.eventLabel?i.eventLabel:"");window.DATracker&&window.DATracker.track(d,Object.assign(c,i))},v.preload=function(e,t){t=t||"","string"==typeof e&&(e=[e]),e.forEach(function(e){var n=new Image;n.src=e+t,n.style.display="none",document.body.appendChild(n)})},v.statistics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onSharepAppMessageSuccess:function(){v.eventTrace(r({eventLabel:h.STATISTICS_ACTIONS.SHARE_TO_WECAHT_APP_MESSAGE},e))},onshareTimelineSuccess:function(){v.eventTrace(r({eventLabel:h.STATISTICS_ACTIONS.SHARE_TO_WECAHT_TIMELINE},e))}}},v.isBottomVisible=function(e){if(!e)return!1;var t=Math.max(document.body.scrollTop,document.documentElement.scrollTop),n="CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight,o=e.offsetHeight,a=v.getOffsetTop(e);return a+o+50>t&&a+o-50<n+t},v.getOffsetTop=function(e){for(var t=0;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;return t},e.exports=v},99:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),r=o(a),i=n(32),c=o(i),s=n(49),u=o(s),d=n(147),l=d.matchRule;r.default.use(c.default);var f=new c.default.Store({state:{options:{},inApp:!1,inWechat:!1,inMiniProgram:!1,ua:null,hideBanner:!1,path:"",loading:!1,error:null,resource:null,isLogin:!1,currentUser:null,shareInfo:null,purePageTitle:null,hasRefresh:!1,musicPlaying:null,searchKeyword:"",searchLayerVisible:!1},actions:{getResource:function(e){var t=e.state,n=e.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.callback,r=o.loadingStatus,i=t.route,c=i.path,s=i.fullPath,d="GET "+c,f=l(d),h=f.match,p=f.options;h&&(!t.inApp&&p.webviewOnly&&(location.href="/"),r&&(t.loading=!0),(0,u.default)("/api"+s).then(function(e){n("setResource",e),a&&a(),console.log("\nstate.resource: "+t.resource)},function(e){n("setResource",e),a&&a()}))}},mutations:{setGlobalInfo:function(e,t){e.inApp=t.inApp,e.inWechat=t.inWechat,e.ua=t.ua,e.hideBanner=t.hideBanner},setRouteOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.options=t;var n=t.pageTitle;n&&(e.purePageTitle=n)},setResource:function(e,t){if(e.path=e.route.path,t.code){if(t.code>=200&&t.code<400){var n=t.result;e.resource=n;var o=n.user,a=n.pageTitle,r=n.shareInfo;e.purePageTitle=a||"",e.currentUser=o,e.isLogin=!(!o||!o.id),e.shareInfo=r,e.error=null}else{var i=t.code,c=t.msg;e.error={code:i,msg:c},e.resource=null}e.loading=!1}},setError:function(e,t){e.error=t,e.resource=null},setCurrentUser:function(e,t){e.currentUser=t,e.isLogin=!!t},setHasRefresh:function(e,t){e.hasRefresh=t},setShareInfo:function(e,t){e.shareInfo=Object.assign({},e.shareInfo,t||{})},setPageTitle:function(e,t){e.purePageTitle=t},setMusicStatus:function(e,t){e.musicPlaying=t},setSearchKeyword:function(e,t){"string"==typeof t&&(e.searchKeyword=t)},setSearchLayerVisible:function(e,t){e.searchLayerVisible=t},setMiniProgram:function(e,t){e.inMiniProgram=t},setLoading:function(e,t){console.log("setLoading: "+t),e.loading=t}},getters:{isWifi:function(e,t){var n=e.ua,o=/NETTYPE\/(\S+)/,a=n.match(o);return a?"WIFI"===a[1]:null},pageTitle:function(e,t){return!e.purePageTitle||e.inApp||e.options.noTitleSuffix?e.purePageTitle||"网易美学":e.purePageTitle+"－网易美学"}}});t.default=f}},[391]);